# TypeScript Monster Clicker

This project is a TypeScript client for the MonsterClicker game. It communicates with the .NET backend service.

## How it Works

This project is generated by the `RemoteMvvmTool`. The tool inspects the `GameViewModel.cs` in the `MonsterClicker` project and generates this corresponding TypeScript project.

## Running the Project

To run this project, you need to have the .NET backend server running. The `RemoteMvvmTool` will generate all the necessary client-side files.

### 1. Run the Backend (MonsterClicker Server)

The backend server is the `MonsterClicker` WPF application. When you build and run it, it also generates the TypeScript client project.

1.  Open the solution in Visual Studio.
2.  Build the `MonsterClicker` project. This will execute the `RemoteMvvmTool` and generate a complete TypeScript project in `src/demo/MonsterClicker/RemoteGenerated/tsProject`.
3.  Set `MonsterClicker` as the startup project and run it (press F5 or click the Start button). This will start the gRPC service that the TypeScript client connects to.

### 2. Run the Frontend (TypeScript Client)

The generated TypeScript project is located inside the `MonsterClicker` project's directory.

1.  Open a terminal and navigate to the generated TypeScript project directory:
    ```sh
    cd src/demo/MonsterClicker/RemoteGenerated/tsProject
    ```
2.  Install the required npm packages:
    ```sh
    npm install
    ```
3.  Start the webpack development server:
    ```sh
    npx webpack serve
    ```
4.  Open your web browser and navigate to the URL provided by webpack (usually `http://localhost:3000`).

You should now see the Monster Clicker game running in your browser and be able to interact with it.

## Running the RemoteMvvmTool Manually

Under normal circumstances, you don't need to run the `RemoteMvvmTool` manually, as it's configured to run automatically when you build the `MonsterClicker` project. However, if you need to regenerate the client files for any reason, you can run the tool from the command line.

The `remotemvvm` command-line tool is created as a .NET tool from the `RemoteMvvmTool` project.

### 1. Install the Tool

First, ensure the `remotemvvm` .NET tool is installed and up-to-date.

1.  Open a terminal or command prompt.
2.  Navigate to the `RemoteMvvmTool` project directory:
    ```sh
    cd ../../src/RemoteMvvmTool
    ```
3.  Pack and install the tool globally:
    ```sh
    dotnet pack
    dotnet tool install --global --add-source ./publish RemoteMvvm
    ```
    *(Use `tool update` if it's already installed)*

### 2. Run the Generation Command

1.  Navigate to the `MonsterClicker` project directory, which contains the ViewModel source file:
    ```sh
    cd ../demo/MonsterClicker
    ```
2.  Run the tool with the appropriate arguments to generate the TypeScript project:
    ```sh
    remotemvvm --generate tsproject --output "RemoteGenerated" --protoNamespace MonsterClicker.ViewModels.Protos "ViewModels/GameViewModel.cs"
    ```
This command will regenerate the TypeScript project in the `src/demo/MonsterClicker/RemoteGenerated/tsProject` directory. After generation, you can proceed to run the frontend as described above.
